-- Kevo GUI Library
local Kevo = {}

-- Colors & Themes
Kevo.Themes = {
    Dark = {
        Background = Color3.fromRGB(25, 25, 25),
        Text = Color3.fromRGB(255, 255, 255),
        Button = Color3.fromRGB(50, 50, 50),
        Hover = Color3.fromRGB(70, 70, 70)
    },
    Light = {
        Background = Color3.fromRGB(240, 240, 240),
        Text = Color3.fromRGB(0, 0, 0),
        Button = Color3.fromRGB(200, 200, 200),
        Hover = Color3.fromRGB(180, 180, 180)
    }
}

-- Create a Base GUI Window
function Kevo.CreateWindow(title, theme)
    theme = theme or Kevo.Themes.Dark
    local ScreenGui = Instance.new("ScreenGui")
    local Frame = Instance.new("Frame")
    local Title = Instance.new("TextLabel")
    local CloseButton = Instance.new("TextButton")

    ScreenGui.Name = "KevoGUI"
    ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

    Frame.Name = "MainFrame"
    Frame.Parent = ScreenGui
    Frame.BackgroundColor3 = theme.Background
    Frame.BorderSizePixel = 0
    Frame.Position = UDim2.new(0.3, 0, 0.3, 0)
    Frame.Size = UDim2.new(0, 300, 0, 400)
    Frame.Active = true
    Frame.Draggable = true

    Title.Name = "Title"
    Title.Parent = Frame
    Title.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    Title.BorderSizePixel = 0
    Title.Size = UDim2.new(1, 0, 0, 30)
    Title.Font = Enum.Font.SourceSansBold
    Title.Text = title or "Kevo GUI"
    Title.TextColor3 = theme.Text
    Title.TextSize = 18

    CloseButton.Name = "CloseButton"
    CloseButton.Parent = Frame
    CloseButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    CloseButton.Position = UDim2.new(1, -30, 0, 0)
    CloseButton.Size = UDim2.new(0, 30, 0, 30)
    CloseButton.Font = Enum.Font.SourceSansBold
    CloseButton.Text = "X"
    CloseButton.TextColor3 = theme.Text
    CloseButton.TextSize = 18
    CloseButton.MouseButton1Click:Connect(function()
        ScreenGui:Destroy()
    end)

    local ContentFolder = Instance.new("Folder")
    ContentFolder.Name = "Content"
    ContentFolder.Parent = Frame

    return {
        ScreenGui = ScreenGui,
        Frame = Frame,
        Content = ContentFolder,
        Theme = theme
    }
end

-- Add a Button to the GUI
function Kevo.AddButton(parent, text, callback)
    local Button = Instance.new("TextButton")
    Button.Name = "Button_" .. text
    Button.Parent = parent
    Button.BackgroundColor3 = parent.Theme.Button
    Button.BorderSizePixel = 0
    Button.Size = UDim2.new(0.9, 0, 0, 40)
    Button.Position = UDim2.new(0.05, 0, 0, (#parent:GetChildren() - 1) * 45 + 40)
    Button.Font = Enum.Font.SourceSans
    Button.Text = text
    Button.TextColor3 = parent.Theme.Text
    Button.TextSize = 16

    Button.MouseEnter:Connect(function()
        Button.BackgroundColor3 = parent.Theme.Hover
    end)

    Button.MouseLeave:Connect(function()
        Button.BackgroundColor3 = parent.Theme.Button
    end)

    Button.MouseButton1Click:Connect(callback)

    return Button
end

-- Add a Label to the GUI
function Kevo.AddLabel(parent, text)
    local Label = Instance.new("TextLabel")
    Label.Name = "Label_" .. text
    Label.Parent = parent
    Label.BackgroundTransparency = 1
    Label.Size = UDim2.new(0.9, 0, 0, 30)
    Label.Position = UDim2.new(0.05, 0, 0, (#parent:GetChildren() - 1) * 35 + 40)
    Label.Font = Enum.Font.SourceSans
    Label.Text = text
    Label.TextColor3 = parent.Theme.Text
    Label.TextSize = 16
    Label.TextXAlignment = Enum.TextXAlignment.Left

    return Label
end

-- Add a Toggle Switch
function Kevo.AddToggle(parent, text, default, callback)
    local ToggleFrame = Instance.new("Frame")
    local ToggleButton = Instance.new("TextButton")
    local StatusLabel = Instance.new("TextLabel")

    ToggleFrame.Name = "ToggleFrame_" .. text
    ToggleFrame.Parent = parent
    ToggleFrame.BackgroundTransparency = 1
    ToggleFrame.Size = UDim2.new(0.9, 0, 0, 30)
    ToggleFrame.Position = UDim2.new(0.05, 0, 0, (#parent:GetChildren() - 1) * 35 + 40)

    StatusLabel.Name = "StatusLabel"
    StatusLabel.Parent = ToggleFrame
    StatusLabel.BackgroundTransparency = 1
    StatusLabel.Size = UDim2.new(0.7, 0, 1, 0)
    StatusLabel.Font = Enum.Font.SourceSans
    StatusLabel.Text = text
    StatusLabel.TextColor3 = parent.Theme.Text
    StatusLabel.TextSize = 16
    StatusLabel.TextXAlignment = Enum.TextXAlignment.Left

    ToggleButton.Name = "ToggleButton"
    ToggleButton.Parent = ToggleFrame
    ToggleButton.BackgroundColor3 = default and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
    ToggleButton.Position = UDim2.new(0.8, 0, 0.1, 0)
    ToggleButton.Size = UDim2.new(0.2, 0, 0.8, 0)
    ToggleButton.Font = Enum.Font.SourceSans
    ToggleButton.Text = default and "ON" or "OFF"
    ToggleButton.TextColor3 = parent.Theme.Text
    ToggleButton.TextSize = 14

    ToggleButton.MouseButton1Click:Connect(function()
        local newState = not (ToggleButton.Text == "ON")
        ToggleButton.Text = newState and "ON" or "OFF"
        ToggleButton.BackgroundColor3 = newState and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
        callback(newState)
    end)

    return ToggleFrame
end

return Kevo
